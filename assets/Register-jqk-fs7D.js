import{r as n,l as f,j as e,I as o,C as j,S as r,m as b,w,p as E}from"./index-8NbFKH9F.js";import{a as U}from"./index-_Sbz4MIk.js";import{u as y}from"./useSnackbar-D5dfs4V3.js";const F="_registerSection_1iuc6_1",L="_registerForm_1iuc6_27",N="_userLabel_1iuc6_39",v="_icon_1iuc6_47",a={registerSection:F,registerForm:L,userLabel:N,icon:v},D=()=>{const[i,g]=n.useState(""),[c,h]=n.useState(""),[u,p]=n.useState(""),S=f(),{showSnackbar:t}=y(),l=2,x=_=>{_.preventDefault();const s=i.trim();if(!s){t("Имя не может быть пустым",r.ERROR);return}if(s.length<l){t(`Имя должно быть минимум ${l} символа`,r.ERROR);return}const m=b();if(m.some(R=>R.name.toLowerCase()===s.toLowerCase())){t("Пользователь с таким именем уже существует",r.ERROR);return}const d={id:`${s.toLowerCase()}-${Date.now()}`,name:s,surname:c.trim()||null,patronymic:u.trim()||null,photo:null},C=[...m,d];w(C),E(d.id),t("Пользователь зарегистрирован!",r.SUCCESS),S("/profile")};return e.jsxs("section",{className:a.registerSection,children:[e.jsx("h1",{children:"Регистрация"}),e.jsxs("form",{className:a.registerForm,onSubmit:x,children:[e.jsx("label",{htmlFor:"username",className:a.userLabel,children:e.jsx(U,{className:a.icon})}),e.jsx(o,{autoFocus:!0,id:"username",value:i,onChange:g,placeholder:"Имя *",required:!0}),e.jsx(o,{id:"surname",value:c,onChange:h,placeholder:"Фамилия"}),e.jsx(o,{id:"patronymic",value:u,onChange:p,placeholder:"Отчество"}),e.jsx(j,{type:"submit",fullWidth:!0,children:"Зарегистрироваться"})]})]})};export{D as default};
